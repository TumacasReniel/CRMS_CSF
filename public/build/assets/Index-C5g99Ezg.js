import{A as N}from"./AppLayout-CCyUmARv.js";import{x as I,p as P,d as v,y as Q,j as u,o as c,c as m,w as a,a as s,b as e,u as D,g as _,f as p,O as w}from"./app-D2oGk2Q8.js";import{P as L}from"./index-DajnbktX.js";import{S as k}from"./sweetalert2.all-B5kmP33f.js";import $ from"./Content-CnZ6Qoo6.js";import{s as q}from"./vue-multiselect.css_vue_type_style_index_0_src_true_lang-D-_oF9Wj.js";import"./dost-logo-B4Huuyod.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Customer Satisfaction Index ",-1),j={class:"py-10",style:{"margin-left":"80px","margin-right":"80px"}},H={class:"max-w-7x1 mx-auto sm:px-6 lg:px-8"},G={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},J=s("div",null," All SERVICES UNITS ",-1),K={class:"my-auto overflow-visible"},X=s("span",{class:"font-black"},"PLEASE DO THE TRADITIONAL MANUAL REPORT ON EXCEL FOR ALL UNITS REPORT ",-1),z=s("br",null,null,-1),W=s("span",{class:"ml-10"},[s("p",null,"-By Monthly"),s("p",null,"-By First Quarter"),s("p",null,"-By Second Quarter"),s("p",null,"-By Third Quarter"),s("p",null,"-By Fourth Quarter"),s("p",null,"-By Yearly/Annual"),s("b",null,"THANK YOU!")],-1),ne={__name:"Index",props:{services_units:Object,cc_data:Object,ord_total_respondents:Object,ord_total_vss_respondents:Object,ord_percentage_vss_respondents:Object,csi_total:Number},setup(B){const C=B,l=I({date_from:null,date_to:null,csi_type:null,selected_month:null,selected_quarter:null,comments_complaints:null,analysis:null,service:[]}),b=P(()=>{const n=new Date().getFullYear();return Array.from({length:9},(E,f)=>(n-f).toString())}),A=["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"],V=v(O());function O(){return new Date().getFullYear().toString()}const T=v(U());function U(){return A[new Date().getMonth()]}const d=v(!1);Q(()=>{l.selected_month=T.value,l.selected_year=V.value,d.value=!1});const g=async()=>{d.value=!0,l.csi_type=="By Month"?(l.selected_quarter="",w.get("/csi/generate/all-units/monthly",l,{preserveState:!0,preserveScroll:!0})):l.csi_type=="By Quarter"?(l.selected_month="",l.selected_quarter?w.post("/csi/generate",l,{preserveState:!0,preserveScroll:!0}):k.fire({title:"Error",icon:"error",text:"Please select a quarter first!"})):l.csi_type=="By Year/Annual"&&(l.selected_quarter="",l.selected_year?w.post("/csi/generate",l,{preserveState:!0,preserveScroll:!0}):k.fire({title:"Error",icon:"error",text:"Please select year first!"}))},Y=v(!1),R=async()=>{Y.value=!0,(await new L).print(document.querySelector(".print-id"),[` 
          @import url('https://fonts.googleapis.com/css2?family=Raleway:wght@400;600;800&family=Roboto:wght@100;300;400;500;700;900&display=swap');
          * {
              font-family: 'Time New Roman'
          }
          .new-page {
              page-break-before: always;
          }
          .th-color{
              background-color: #8fd1e8;
          }
          .text-center{
            text-align: center;
          }
          .text-right{
            text-align:end
          }
          table {
            border-collapse: collapse;
            width: 100%; /* Optional: Set a width for the table */
          }

          tr, th, td {
            border: 1px solid rgb(145, 139, 139); /* Optional: Add a border for better visibility */
            padding: 1px; /* Optional: Add padding for better spacing */
          }
          .page-break {
            page-break-before: always; /* or page-break-after: always; */
          }

        `])};return(n,t)=>{const E=u("v-card-title"),f=u("v-card"),S=u("v-divider"),o=u("v-col"),y=u("v-row"),h=u("v-select"),i=u("v-btn"),x=u("v-combobox"),M=u("v-card-text");return c(),m(N,{title:"Dashboard"},{header:a(()=>[F]),default:a(()=>[s("div",j,[s("div",H,[s("div",G,[e(f,{class:"mb-3"},{default:a(()=>[e(E,{class:"m-3"},{default:a(()=>[J]),_:1})]),_:1}),e(f,{class:"mb-3 my-auto"},{default:a(()=>[e(S,{class:"border-opacity-100"}),e(y,{class:"p-3 overflow-visible",style:{"margin-top":"-20px"}},{default:a(()=>[e(S,{class:"border-opacity-100"}),e(o,{class:"my-auto overflow-visible"},{default:a(()=>[s("div",K,[e(D(q),{modelValue:l.csi_type,"onUpdate:modelValue":t[0]||(t[0]=r=>l.csi_type=r),"prepend-icon":"mdi-account",options:["By Month","By Quarter","By Year/Annual"],multiple:!1,placeholder:"Select Type*","allow-empty":!1},null,8,["modelValue"])])]),_:1})]),_:1}),l.csi_type=="By Month"?(c(),m(y,{key:0,class:"p-3"},{default:a(()=>[e(o,{class:"my-auto"},{default:a(()=>[e(h,{modelValue:l.selected_month,"onUpdate:modelValue":t[1]||(t[1]=r=>l.selected_month=r),class:"m-3",label:"Select Month",variant:"outlined",items:A,outlined:"none"},null,8,["modelValue"])]),_:1}),e(o,{class:"my-auto"},{default:a(()=>[e(h,{modelValue:l.selected_year,"onUpdate:modelValue":t[2]||(t[2]=r=>l.selected_year=r),class:"m-3",label:"Select Year",variant:"outlined",items:b.value,outlined:"none"},null,8,["modelValue","items"])]),_:1}),e(o,{class:"ml-5 mt-3"},{default:a(()=>[e(i,{onClick:t[3]||(t[3]=r=>g(n.service,n.unit))},{default:a(()=>[_("Generate")]),_:1}),d.value?(c(),m(i,{key:0,onClick:t[4]||(t[4]=r=>n.refresh()),icon:"mdi-refresh",variant:"text"})):p("",!0)]),_:1}),e(o,{class:"text-end mr-5 m-3"},{default:a(()=>[e(i,{disabled:d.value==!1,"prepend-icon":"mdi-printer",onClick:t[5]||(t[5]=r=>R())},{default:a(()=>[_("Print")]),_:1},8,["disabled"])]),_:1})]),_:1})):p("",!0),l.csi_type=="By Quarter"?(c(),m(y,{key:1,class:"p-3"},{default:a(()=>[e(o,{class:"my-auto"},{default:a(()=>[e(x,{modelValue:l.selected_quarter,"onUpdate:modelValue":t[6]||(t[6]=r=>l.selected_quarter=r),class:"m-3",label:"Select Quarter",variant:"outlined",items:["FIRST QUARTER","SECOND QUARTER","THIRD QUARTER","FOURTH QUARTER"],outlined:"none"},null,8,["modelValue"])]),_:1}),e(o,{class:"my-auto"},{default:a(()=>[e(x,{modelValue:l.selected_year,"onUpdate:modelValue":t[7]||(t[7]=r=>l.selected_year=r),class:"m-3",label:"Select Year",variant:"outlined",items:b.value,outlined:"none"},null,8,["modelValue","items"])]),_:1}),e(o,{class:"ml-5 mt-3"},{default:a(()=>[e(i,{onClick:t[8]||(t[8]=r=>g(n.service,n.unit))},{default:a(()=>[_("Generate")]),_:1}),d.value?(c(),m(i,{key:0,onClick:t[9]||(t[9]=r=>n.refresh()),icon:"mdi-refresh",variant:"text"})):p("",!0)]),_:1}),e(o,{class:"text-end mr-5 m-3"},{default:a(()=>[e(i,{disabled:d.value==!1,"prepend-icon":"mdi-printer",onClick:t[10]||(t[10]=r=>R())},{default:a(()=>[_("Print")]),_:1},8,["disabled"])]),_:1})]),_:1})):p("",!0),l.csi_type=="By Year/Annual"?(c(),m(y,{key:2,class:"p-3"},{default:a(()=>[e(o,{class:"my-auto"},{default:a(()=>[e(x,{modelValue:l.selected_year,"onUpdate:modelValue":t[11]||(t[11]=r=>l.selected_year=r),class:"m-3",label:"Select Year",variant:"outlined",items:b.value,outlined:"none"},null,8,["modelValue","items"])]),_:1}),e(o,{class:"ml-5 mt-3"},{default:a(()=>[e(i,{onClick:t[12]||(t[12]=r=>g())},{default:a(()=>[_("Generate")]),_:1}),d.value?(c(),m(i,{key:0,onClick:t[13]||(t[13]=r=>n.refresh()),icon:"mdi-refresh",variant:"text"})):p("",!0)]),_:1}),e(o,{class:"text-end mr-5 m-3"},{default:a(()=>[e(i,{disabled:d.value==!1,"prepend-icon":"mdi-printer",onClick:t[14]||(t[14]=r=>R())},{default:a(()=>[_("Print")]),_:1},8,["disabled"])]),_:1})]),_:1})):p("",!0),e(S,{class:"border-opacity-100"}),e(M,{class:"ml-5"},{default:a(()=>[X,z,W]),_:1})]),_:1}),e(f,null,{default:a(()=>[l.csi_type=="By Month"&&d.value==!0?(c(),m($,{key:0,form:l,data:C},null,8,["form","data"])):p("",!0)]),_:1})])])])]),_:1})}}};export{ne as default};
