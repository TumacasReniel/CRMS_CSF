import{d as u,i as R,o as c,c as T,w as B,a as t,j as $,v as D,g as d,e as l,h as I,F as m,t as a,n as V,k as E,b as P,O as b,p as U,l as L}from"./app-DQjH5gfR.js";import{_ as Y}from"./AppLayout-BuY2e251.js";import q from"./Modal-Bjbxp3WV.js";import{S as x}from"./sweetalert2.all-BWbeXjl0.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dost-logo-B4Huuyod.js";const n=o=>(U("data-v-91bf2808"),o=o(),L(),o),H=n(()=>t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Accounts ",-1)),J={class:"container-fluid py-5"},K={class:"row justify-content-center"},Q={class:"col-12 col-lg-11"},W={class:"card shadow-lg border-0",style:{"border-radius":"20px",overflow:"hidden"}},X={class:"card-header text-white position-relative overflow-hidden d-flex justify-content-between align-items-center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",padding:"20px 25px"}},Z=n(()=>t("div",{class:"position-absolute top-0 end-0 p-3 opacity-25"},[t("i",{class:"ri-account-circle-line",style:{"font-size":"80px"}})],-1)),tt=n(()=>t("div",{class:"position-relative"},[t("h3",{class:"card-title mb-0"},[t("i",{class:"ri-account-circle-line me-2"}),d(" Accounts Management ")]),t("p",{class:"mb-0 mt-1 opacity-75",style:{"font-size":"0.9rem"}},"Manage user accounts and permissions")],-1)),et={class:"d-flex gap-3 align-items-center"},st={class:"search-box"},at={class:"input-group input-group-sm",style:{"border-radius":"25px",overflow:"hidden"}},ot=n(()=>t("span",{class:"input-group-text bg-white border-0"},[t("i",{class:"ri-search-line text-muted"})],-1)),nt=n(()=>t("i",{class:"ri-add-line me-1"},null,-1)),ct={class:"card-body p-0"},it={class:"table-responsive"},lt={class:"table table-hover mb-0",style:{"min-width":"800px"}},dt=n(()=>t("thead",{class:"table-dark",style:{background:"linear-gradient(135deg, #2d3748 0%, #4a5568 100%)"}},[t("tr",null,[t("th",{class:"text-start",style:{width:"60px"}},"#"),t("th",{class:"text-start"},"Name"),t("th",{class:"text-start"},"Designation"),t("th",{class:"text-start"},"Email"),t("th",{class:"text-start"},"Region"),t("th",{class:"text-center",style:{width:"150px"}},"Role/Account Type"),t("th",{class:"text-center",style:{width:"200px"}},"Actions")])],-1)),rt={class:"fw-bold text-muted"},ut={class:"d-flex align-items-center"},pt=n(()=>t("div",{class:"icon-circle me-2",style:{width:"36px",height:"36px","border-radius":"50%",background:"linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%)",display:"flex","align-items":"center","justify-content":"center"}},[t("i",{class:"ri-user-line text-purple"})],-1)),ht={class:"fw-semibold text-dark"},_t={class:"badge bg-light text-dark",style:{"border-radius":"15px",padding:"5px 12px"}},mt={class:"text-muted"},bt={class:"text-center"},xt={key:0,class:"badge",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","border-radius":"15px",padding:"5px 12px"}},gt={key:1,class:"badge",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","border-radius":"15px",padding:"5px 12px"}},ft={class:"text-center"},vt={class:"btn-group btn-group-sm",role:"group"},yt=["onClick"],wt=n(()=>t("i",{class:"ri-key-line me-1"},null,-1)),kt=["onClick"],Ct=n(()=>t("i",{class:"ri-edit-line me-1"},null,-1)),St={key:1,colspan:"7"},At=n(()=>t("div",{class:"text-center py-4"},[t("i",{class:"ri-inbox-line text-muted",style:{"font-size":"40px"}}),t("p",{class:"text-muted mb-0 mt-2"},"No data at the moment")],-1)),Bt=[At],It={class:"card-footer bg-light",style:{"border-radius":"0 0 20px 20px"}},jt={class:"d-flex justify-content-between align-items-center flex-wrap gap-2"},Mt={class:"text-muted"},zt={class:"fw-semibold"},Ft={class:"fw-semibold"},Nt={class:"fw-bold",style:{color:"#667eea"}},Ot={class:"pagination pagination-sm mb-0"},Rt=["onClick"],Tt={__name:"Index",props:{accounts:Object,regions:Object,services:Object},setup(o){const j=o,p=u(!1),g=u(null);u({});const h=u({}),_=u(""),f=u(1),v=u(!1),M=async s=>{(await x.fire({title:"Reset Password",html:'<div style="font-weight: bold; font-size:18px">Are you sure you want to reset password for this account?</div>',icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, I'm sure",cancelButtonText:"Cancel",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed&&b.post("/accounts/reset-password",{id:s},{onSuccess:()=>{x.fire({title:"Success",icon:"success",text:"Password has been successfully reset."})},onError:i=>{x.fire({title:"Failed",icon:"error",text:(i==null?void 0:i.message)||"Something went wrong, please check"})}})};R(()=>_.value,s=>{v.value=!0,b.get("/accounts",{search:s},{preserveState:!0,onFinish:()=>{v.value=!1}})});const y=async(s,r,i)=>{p.value=s,g.value=r,h.value=i},z=async()=>{h.value={}},F=async s=>{b.visit("/accounts?page="+s,{preserveState:!0}),f.value=s},N=s=>{p.value=s};return(s,r)=>(c(),T(Y,{title:"Dashboard"},{header:B(()=>[H]),default:B(()=>{var i,w,k,C;return[t("div",J,[t("div",K,[t("div",Q,[t("div",W,[t("div",X,[Z,tt,t("div",et,[t("div",st,[t("div",at,[ot,$(t("input",{type:"text",class:"form-control border-0 shadow-none",placeholder:"Search accounts...","onUpdate:modelValue":r[0]||(r[0]=e=>_.value=e),style:{"border-radius":"0 25px 25px 0"}},null,512),[[D,_.value]])])]),t("button",{onClick:r[1]||(r[1]=e=>y(!0,"Add",{})),class:"btn btn-light btn-sm fw-semibold",style:{"border-radius":"20px"}},[nt,d(" Account ")])])]),t("div",ct,[t("div",it,[t("table",lt,[dt,t("tbody",null,[(c(!0),l(m,null,I(o.accounts.data,(e,S)=>{var A;return c(),l("tr",{key:e.id,class:"align-middle table-row-animated"},[e?(c(),l(m,{key:0},[t("td",rt,a(S+1),1),t("td",null,[t("div",ut,[pt,t("span",ht,a(e.name),1)])]),t("td",null,[t("span",_t,a(e.designation),1)]),t("td",mt,a(e.email),1),t("td",null,a((A=e.region)==null?void 0:A.order),1),t("td",bt,[e.account_type=="admin"?(c(),l("span",xt,a(e.account_type),1)):(c(),l("span",gt,a(e.account_type),1))]),t("td",ft,[t("div",vt,[t("button",{onClick:O=>M(e.id),class:"btn btn-secondary",style:{"border-radius":"15px 0 0 15px"}},[wt,d(" Reset ")],8,yt),t("button",{onClick:O=>y(!0,"Update",e),class:"btn btn-primary",style:{"border-radius":"0 15px 15px 0"}},[Ct,d(" Update ")],8,kt)])])],64)):(c(),l("td",St,Bt))])}),128))])])]),t("div",It,[t("div",jt,[t("span",Mt,[d(" Showing "),t("span",zt,a((i=o.accounts.meta)==null?void 0:i.from),1),d(" to "),t("span",Ft,a((w=o.accounts.meta)==null?void 0:w.to),1),d(" out of "),t("span",Nt,a((k=o.accounts.meta)==null?void 0:k.total),1),d(" records ")]),t("nav",null,[t("ul",Ot,[(c(!0),l(m,null,I((C=o.accounts.meta)==null?void 0:C.last_page,e=>(c(),l("li",{key:e,class:V(["page-item",{active:e===f.value}])},[t("a",{class:"page-link",href:"#",onClick:E(S=>F(e),["prevent"])},a(e),9,Rt)],2))),128))])])])])])])])])]),P(q,{value:p.value,account:h.value,data:j,action:g.value,onInput:N,onReloadAccounts:z},null,8,["value","account","data","action"])]}),_:1}))}},Lt=G(Tt,[["__scopeId","data-v-91bf2808"]]);export{Lt as default};
