import"./vue-multiselect.css_vue_type_style_index_0_src_true_lang-DnPa8Etz.js";import{_ as F}from"./AppLayout-BuY2e251.js";import{m as N,D as P,i as D,o as c,e as d,a as e,g as r,t as x,k as S,j as $,v as U,f,O as y,p as j,l as V,d as k,c as z,w as I,h as M,F as C,b as E}from"./app-DQjH5gfR.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dost-logo-B4Huuyod.js";const p=t=>(j("data-v-644e184c"),t=t(),V(),t),X={class:"modal-header"},q={class:"modal-title"},R=p(()=>e("i",{class:"ri-add-circle-line me-2"},null,-1)),T={class:"modal-body"},W={key:0,class:"mb-3"},J=p(()=>e("label",{for:"service_name",class:"form-label"},"Service Name",-1)),K={key:1},L={class:"mb-3"},Q=p(()=>e("label",{class:"form-label"},"Service",-1)),G=["value"],H={class:"mb-3"},Y=p(()=>e("label",{for:"unit_name",class:"form-label"},"Unit Name",-1)),Z=p(()=>e("i",{class:"ri-close-line me-1"},null,-1)),ee=p(()=>e("i",{class:"ri-save-line me-1"},null,-1)),te={__name:"AddServiceModal",props:{value:{type:Boolean,default:!1},actionClicked:{type:String,default:null},selectedService:{type:Object,default:null}},emits:["input"],setup(t,{emit:a}){const h=a,u=t,l=N({service_name:"",unit_name:""}),w=P({get:()=>u.value,set:_=>h("input",_)});D(()=>u.value,_=>{_&&(l.service_name="",l.unit_name="")});const v=()=>{h("input",!1)},g=()=>{u.actionClicked==="add_new_service"?(y.post("/services/add",{service_name:l.service_name}),v()):u.actionClicked==="add_new_unit"&&(y.post("/services/unit/add",{service_id:u.selectedService.id,unit_name:l.unit_name}),v())};return(_,m)=>{var o;return w.value?(c(),d("div",{key:0,class:"modal-overlay",onClick:v},[e("div",{class:"modal-content",onClick:m[2]||(m[2]=S(()=>{},["stop"]))},[e("div",X,[e("h5",q,[R,r(" "+x(t.actionClicked==="add_new_service"?"Add New Service":"Add New Unit"),1)]),e("button",{type:"button",class:"modal-close",onClick:v},"Ã—")]),e("div",T,[e("form",{onSubmit:S(g,["prevent"])},[t.actionClicked==="add_new_service"?(c(),d("div",W,[J,$(e("input",{type:"text",class:"form-control",id:"service_name","onUpdate:modelValue":m[0]||(m[0]=s=>l.service_name=s),placeholder:"Enter service name",required:""},null,512),[[U,l.service_name]])])):t.actionClicked==="add_new_unit"?(c(),d("div",K,[e("div",L,[Q,e("input",{type:"text",class:"form-control-plaintext",value:(o=t.selectedService)==null?void 0:o.services_name,readonly:""},null,8,G)]),e("div",H,[Y,$(e("input",{type:"text",class:"form-control",id:"unit_name","onUpdate:modelValue":m[1]||(m[1]=s=>l.unit_name=s),placeholder:"Enter unit name",required:""},null,512),[[U,l.unit_name]])])])):f("",!0)],32)]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary",onClick:v},[Z,r("Cancel ")]),e("button",{type:"button",class:"btn btn-primary",onClick:g},[ee,r("Save ")])])])])):f("",!0)}}},se=A(te,[["__scopeId","data-v-644e184c"]]),n=t=>(j("data-v-1f93703d"),t=t(),V(),t),ie=n(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Service Units ",-1)),ne={class:"container-fluid py-5"},le={class:"row justify-content-center"},ae={class:"col-12 col-lg-11"},oe={class:"card shadow-lg border-0",style:{"border-radius":"20px",overflow:"hidden"}},ce={class:"card-header text-white position-relative overflow-hidden d-flex justify-content-between align-items-center",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 50%, #43e97b 100%)",padding:"20px 25px"}},de=n(()=>e("div",{class:"position-absolute top-0 end-0 p-3 opacity-25"},[e("i",{class:"ri-building-4-line",style:{"font-size":"80px"}})],-1)),re=n(()=>e("div",{class:"position-relative"},[e("h3",{class:"card-title mb-0"},[e("i",{class:"ri-building-4-line me-2"}),r(" Service Units Management ")]),e("p",{class:"mb-0 mt-1 opacity-75",style:{"font-size":"0.9rem"}},"Configure and manage service units")],-1)),ue={class:"d-flex gap-3 align-items-center"},_e=n(()=>e("i",{class:"ri-add-line me-1"},null,-1)),me=n(()=>e("i",{class:"ri-file-chart-line me-1"},null,-1)),ve=n(()=>e("i",{class:"ri-printer-line me-1"},null,-1)),be={class:"card-body p-0"},pe={class:"table-responsive"},he={class:"table table-hover mb-0",style:{"min-width":"600px"}},fe=n(()=>e("thead",{class:"table-dark",style:{background:"linear-gradient(135deg, #2d3748 0%, #4a5568 100%)"}},[e("tr",null,[e("th",{class:"text-center",style:{width:"80px"}},"#"),e("th",null,"Unit Name"),e("th",{class:"text-center",style:{width:"200px"}},"Actions")])],-1)),ye={class:"table-primary service-header-row"},ge={colspan:"3",class:"fw-bold fs-5"},xe={class:"d-flex align-items-center"},we=n(()=>e("div",{class:"icon-circle me-2",style:{width:"36px",height:"36px","border-radius":"50%",background:"linear-gradient(135deg, rgba(79, 172, 254, 0.3) 0%, rgba(0, 242, 254, 0.3) 100%)",display:"flex","align-items":"center","justify-content":"center"}},[e("i",{class:"ri-service-line text-info"})],-1)),ke=["onClick"],Ce=n(()=>e("i",{class:"ri-add-line"},null,-1)),Se=[Ce],$e={class:"text-center fw-bold text-muted"},Ue={class:"d-flex align-items-center"},Ie=n(()=>e("div",{class:"icon-circle me-2",style:{width:"32px",height:"32px","border-radius":"50%",background:"linear-gradient(135deg, rgba(79, 172, 254, 0.2) 0%, rgba(0, 242, 254, 0.2) 100%)",display:"flex","align-items":"center","justify-content":"center"}},[e("i",{class:"ri-building-line text-blue"})],-1)),Me={class:"fw-semibold text-dark"},Ne={class:"text-center"},je={class:"btn-group btn-group-sm",role:"group"},Ve=["onClick","disabled"],Ae=n(()=>e("i",{class:"ri-eye-line me-1"},null,-1)),Oe=["onClick","disabled"],Be=n(()=>e("i",{class:"ri-star-line me-1"},null,-1)),Fe={__name:"Index",props:{service_units:Object,sub_units:Object,user:Object},setup(t){const a=N({service_id:null,unit_id:null}),h=k(!1),u=k(""),l=k({}),w=async(o,s)=>{a.service_id=o,a.unit_id=s,y.get("/csi",a,{preserveState:!0})},v=async()=>{a.form_type="all units",y.get("/csi/all-units",a,{preserveState:!0})},g=async(o,s)=>{a.service_id=o,a.unit_id=s,y.get("/csi/view",a,{preserveState:!0})},_=async(o,s,i)=>{h.value=o,u.value=s,i&&(l.value=i)},m=()=>{window.open("https://drive.google.com/file/d/1s7hgXu2_3znCrcKrXX0PWJUQfwb7SMWU/view?usp=sharing","_blank")};return(o,s)=>(c(),z(F,{title:"Service Units"},{header:I(()=>[ie]),default:I(()=>[e("div",ne,[e("div",le,[e("div",ae,[e("div",oe,[e("div",ce,[de,re,e("div",ue,[t.user.account_type=="admin"?(c(),d("button",{key:0,onClick:s[0]||(s[0]=i=>_(!0,"add_new_service",null)),class:"btn btn-light btn-sm fw-semibold",style:{"border-radius":"20px"}},[_e,r(" Add New Service ")])):f("",!0),e("button",{onClick:s[1]||(s[1]=i=>v()),class:"btn btn-warning btn-sm fw-semibold",style:{"border-radius":"20px"}},[me,r(" All Unit Ratings ")]),e("button",{onClick:s[2]||(s[2]=i=>m()),class:"btn btn-success btn-sm fw-semibold",style:{"border-radius":"20px"}},[ve,r(" CSF Form (Manual) ")])])]),e("div",be,[e("div",pe,[e("table",he,[fe,e("tbody",null,[t.service_units?(c(!0),d(C,{key:0},M(t.service_units.data,(i,Pe)=>(c(),d(C,{key:i.id},[e("tr",ye,[e("td",ge,[e("div",xe,[we,e("span",null,x(i.services_name),1),t.user.account_type=="admin"?(c(),d("button",{key:0,onClick:b=>_(!0,"add_new_unit",i),class:"btn btn-success btn-sm ms-3",style:{"border-radius":"15px"}},Se,8,ke)):f("",!0)])])]),(c(!0),d(C,null,M(i.units,(b,O)=>(c(),d("tr",{key:b.id,class:"align-middle table-row-animated"},[e("td",$e,x(O+1),1),e("td",null,[e("div",Ue,[Ie,e("span",Me,x(b.unit_name),1)])]),e("td",Ne,[e("div",je,[e("button",{onClick:B=>g(i.id,b.id),class:"btn btn-primary",style:{"border-radius":"15px 0 0 15px"},disabled:t.user.account_type=="user"&&t.user.unit_id!=b.id},[Ae,r(" View ")],8,Ve),e("button",{onClick:B=>w(i.id,b.id),class:"btn btn-warning",style:{"border-radius":"0 15px 15px 0"},disabled:t.user.account_type=="user"&&t.user.unit_id!=b.id},[Be,r(" Rating ")],8,Oe)])])]))),128))],64))),128)):f("",!0)])])])])])])])]),E(se,{value:h.value,"action-clicked":u.value,"selected-service":l.value,onInput:_},null,8,["value","action-clicked","selected-service"])]),_:1}))}},Re=A(Fe,[["__scopeId","data-v-1f93703d"]]);export{Re as default};
