import{A as F}from"./AppLayout-Csw5neEx.js";import{_ as L}from"./Modal.vue_vue_type_script_setup_true_lang-B_9ZX8K7.js";import{d as m,i as T,j as c,o as d,c as x,w as o,a as t,b as s,g as u,t as l,u as S,k as P,e as _,h as M,F as z,O as w}from"./app-ThHqA8Hj.js";import{S as b}from"./sweetalert2.all-DULnd-dN.js";import"./dost-logo-B4Huuyod.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Accounts ",-1),q={class:"py-12"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},J={class:"w-full m-5 text-right"},K={class:"text-right m-5"},Q=t("thead",null,[t("tr",null,[t("th",{class:"text-left"}," # "),t("th",{class:"text-left"}," Name "),t("th",{class:"text-left"}," Designation "),t("th",{class:"text-left"}," Email "),t("th",{class:"text-left"}," Region "),t("th",{class:"text-center"}," Role/Account Type "),t("th",{class:"text-center"}," Is Active Status "),t("th",{class:"text-center"}," Actions ")])],-1),W={class:"text-center"},X={style:{"text-align":"center"}},Z={style:{display:"inline-block"}},tt={class:"text-center"},et={key:1,span:""},ot={class:"m-2"},nt={style:{color:"gray"}},st={class:"text-center"},ut={__name:"Index",props:{accounts:Object,regions:Object,services:Object},setup(i){const B=i,I=async a=>{b.fire({html:'<div style="font-weight: bold; font-size:25px">Are you sure you want to reset password for this account?</div> ',icon:"warning",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Yes, I'm sure",showLoaderOnConfirm:!0}).then(n=>{n.isConfirmed&&w.post("/accounts/reset-password",{id:a},{onSuccess:()=>{b.fire({title:"Success",icon:"success",text:"Password has been successfully reset."})},onError:()=>{b.fire({title:"Failed",icon:"error",text:this.error?this.error:"Something went wrong please check"})}})})},k=m(!1),A=m(null);m({});const p=m({}),v=m("");T(()=>v.value,a=>{w.get("/accounts",{search:a},{preserveState:!0})});const h=async(a,n,f)=>{k.value=a,A.value=n,p.value=f},O=async()=>{p.value={}};let r=1;const U=async a=>{w.visit("/accounts?page="+a,{preserveState:!0}),r=a};return(a,n)=>{const f=c("v-text-field"),C=c("v-col"),g=c("v-btn"),N=c("v-row"),V=c("v-chip"),R=c("v-switch"),j=c("v-pagination"),$=c("v-table"),D=c("v-card");return d(),x(F,{title:"Dashboard"},{header:o(()=>[Y]),default:o(()=>[t("div",q,[t("div",G,[t("div",H,[s(N,{style:{"margin-bottom":"-30px"}},{default:o(()=>[s(C,null,{default:o(()=>[t("div",J,[s(f,{loading:a.loading,"append-inner-icon":"mdi-magnify",density:"compact",label:"Search",variant:"solo","hide-details":"","single-line":"",modelValue:v.value,"onUpdate:modelValue":n[0]||(n[0]=e=>v.value=e),"onClick:appendInner":a.onClick},null,8,["loading","modelValue","onClick:appendInner"])])]),_:1}),s(C,null,{default:o(()=>[t("div",K,[s(g,{onClick:n[1]||(n[1]=e=>h(!0,"Add",null)),size:"small","prepend-icon":"mdi-plus",color:"green"},{default:o(()=>[u(" Account ")]),_:1})])]),_:1})]),_:1}),s(D,{class:"m-3"},{default:o(()=>[s($,null,{bottom:o(()=>[t("div",ot,[t("span",nt,[u(" Showing "+l(i.accounts.meta.from)+" to "+l(i.accounts.meta.to)+" out of ",1),t("b",null,l(i.accounts.meta.total)+" records",1)]),t("div",st,[s(j,{modelValue:S(r),"onUpdate:modelValue":n[2]||(n[2]=e=>P(r)?r.value=e:r=e),length:i.accounts.meta.last_page,circle:"",onClick:n[3]||(n[3]=e=>U(S(r)))},null,8,["modelValue","length"])])])]),default:o(()=>[Q,t("tbody",null,[(d(!0),_(z,null,M(i.accounts.data,(e,E)=>(d(),_("tr",{key:e.id,class:"hover:bg-gray-200"},[e?(d(),_(z,{key:0},[t("td",null,l(E+1),1),t("td",null,l(e.name),1),t("td",null,l(e.designation),1),t("td",null,l(e.email),1),t("td",null,l(e.region.order),1),t("td",W,[e.account_type=="admin"?(d(),x(V,{key:0,class:"bg-indigo",size:"small"},{default:o(()=>[u(l(e.account_type),1)]),_:2},1024)):(d(),x(V,{key:1,class:"bg-green",size:"small"},{default:o(()=>[u(l(e.account_type),1)]),_:2},1024))]),t("td",X,[t("div",Z,[s(R,{modelValue:e.is_active,"onUpdate:modelValue":y=>e.is_active=y,"true-value":1,"false-value":0,color:"green","hide-details":"",readonly:""},null,8,["modelValue","onUpdate:modelValue"])])]),t("td",tt,[s(g,{size:"small",onClick:y=>I(e.id),"prepend-icon":"mdi-lock-reset",color:"secondary",class:"mr-5"},{default:o(()=>[u(" Reset ")]),_:2},1032,["onClick"]),s(g,{onClick:y=>h(!0,"Update",e),size:"small","prepend-icon":"mdi-update",color:"primary"},{default:o(()=>[u(" Update ")]),_:2},1032,["onClick"])])],64)):(d(),_("td",et," No data at the moment"))]))),128))])]),_:1})]),_:1})])])]),s(L,{value:k.value,account:p.value,regions:i.regions,data:B,action:A.value,onInput:h,onReloadAccounts:O},null,8,["value","account","regions","data","action"])]),_:1})}}};export{ut as default};
