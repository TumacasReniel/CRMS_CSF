import"./vue-multiselect.css_vue_type_style_index_0_src_true_lang-DC_P8C1B.js";import{A as P}from"./AppLayout-CU7qkbYt.js";import{_ as R}from"./Modal.vue_vue_type_script_setup_true_lang-CICyc2vz.js";import{x as U,d as v,j as _,o as r,c as C,w as o,a as e,b as n,g as u,f as b,e as p,h as S,F as f,t as h,O as g,z as D,A as E}from"./app-CS-i0es9.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dost-logo-B4Huuyod.js";const A=t=>(D("data-v-f29f5b1d"),t=t(),E(),t),Q=A(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Services Units ",-1)),T={class:"py-5"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},K={class:"w-full"},M=A(()=>e("thead",{class:"font-bold text-center"},[e("th",{class:"pb-4 pt-6 px-6",colspan:"2"},"Services Units"),e("th",{class:"pb-4 pt-6 px-6"},"Actions")],-1)),X={class:"border border-solid bg-blue-100"},Y={class:"m5 p-5 border border-solid font-black",colspan:"2"},Z={key:0,class:"m5 p-5 border border-solid font-black text-center",colspan:"3"},q={class:"text-center p-2 border border-solid hover:bg-gray-100 focus-within:bg-gray-100"},J={class:"p-2 mr-2 border border-solid hover:bg-gray-100 focus-within:bg-gray-100"},W={class:"text-center px-4 py-2 p-2 mr-2 border border-solid"},ee={__name:"Index",props:{service_units:Object,sub_units:Object,user:Object},setup(t){const z=t,d=U({service_id:null,unit_id:null}),N=async(a,s)=>{d.service_id=a,d.unit_id=s,g.get("/csi",d,{preserveState:!0})},I=async()=>{d.form_type="all units",g.get("/csi/all-units",d,{preserveState:!0})},y=v(!1),x=v(""),w=v({}),V=async(a,s)=>{d.service_id=a,d.unit_id=s,g.get("/csi/view",d,{preserveState:!0})},m=async(a,s,c)=>{y.value=a,x.value=s,c&&(w.value=c)},$=()=>{window.open("https://drive.google.com/file/d/1YHbyz0GnrXOTilE8Kpae1ZriNQQ2FVNh/view?usp=sharing","_blank")};return(a,s)=>{const c=_("v-btn"),k=_("v-col"),F=_("v-row"),O=_("v-divider"),j=_("v-card");return r(),C(P,{title:"Dashboard"},{header:o(()=>[Q]),default:o(()=>[e("div",T,[e("div",G,[e("div",H,[n(j,null,{default:o(()=>[n(F,null,{default:o(()=>[t.user.account_type=="admin"?(r(),C(k,{key:0,class:"text-left m-5 mb-1"},{default:o(()=>[n(c,{onClick:s[0]||(s[0]=i=>m(!0,"add_new_service",null)),"prepend-icon":"mdi-plus",color:"primary",size:"small"},{default:o(()=>[u(" Add New Service ")]),_:1})]),_:1})):b("",!0),n(k,{class:"text-right m-5 mb-1"},{default:o(()=>[n(c,{onClick:s[1]||(s[1]=i=>I()),"prepend-icon":"mdi-file",color:"yellow",style:{"margin-right":"100px"},size:"small"},{default:o(()=>[u(" All Unit Ratings ")]),_:1}),n(c,{"prepend-icon":"mdi-printer",class:"mr-5",color:"success",size:"small",onClick:s[2]||(s[2]=i=>$())},{default:o(()=>[u("CSF Form(manual) ")]),_:1})]),_:1})]),_:1}),e("table",K,[M,t.service_units?(r(!0),p(f,{key:0},S(t.service_units.data,(i,te)=>(r(),p(f,{key:i.id},[e("tr",X,[e("td",Y,h(i.services_name),1),t.user.account_type=="admin"?(r(),p("td",Z,[n(c,{onClick:l=>m(!0,"add_new_unit",i),"prepend-icon":"mdi-plus",color:"primary",size:"small"},{default:o(()=>[u(" Add New Unit ")]),_:2},1032,["onClick"])])):b("",!0)]),(r(!0),p(f,null,S(i.units,(l,se)=>(r(),p("tr",{key:l.id},[e("td",q,h(l.id),1),e("td",J,h(l.unit_name),1),e("td",W,[e("div",null,[n(c,{"prepend-icon":"mdi-eye",class:"mr-3",size:"small",onClick:B=>V(i.id,l.id),disabled:t.user.account_type=="user"&&t.user.unit_id!=l.id},{default:o(()=>[u(" View ")]),_:2},1032,["onClick","disabled"]),n(c,{onClick:B=>N(i.id,l.id),"prepend-icon":"mdi-file",color:"yellow",size:"small",disabled:t.user.account_type=="user"&&t.user.unit_id!=l.id},{default:o(()=>[u(" Rating ")]),_:2},1032,["onClick","disabled"])])])]))),128))],64))),128)):b("",!0)]),n(O,{thickness:1,class:"border-opacity-100 mb-5"})]),_:1})])])]),n(R,{value:y.value,action_clicked:x.value,account:a.account,selected_service:w.value,data:z,onInput:m,onReloadAccounts:a.reloadAccounts},null,8,["value","action_clicked","account","selected_service","data","onReloadAccounts"])]),_:1})}}},le=L(ee,[["__scopeId","data-v-f29f5b1d"]]);export{le as default};
