import{d as v,m as y,i as r,o as S,e as g,a as t,g as c,t as w,k,j as x,v as O,f as T,O as P,p as C,l as V}from"./app-DQjH5gfR.js";import{S as m}from"./sweetalert2.all-BWbeXjl0.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const l=n=>(C("data-v-498a7a9c"),n=n(),V(),n),E={key:0,class:"modal fade show",tabindex:"-1",style:{display:"block","background-color":"rgba(0,0,0,0.5)"}},F={class:"modal-dialog modal-dialog-centered modal-lg modal-custom"},I={class:"modal-content"},M={class:"modal-header",style:{background:"linear-gradient(135deg, #fa7268 0%, #f5576c 50%, #f093fb 100%)",color:"white"}},N={class:"modal-title"},A=l(()=>t("i",{class:"ri-home-workspace-line me-2"},null,-1)),D={class:"modal-body"},j={class:"row"},q={class:"col-12 mb-3"},U=l(()=>t("label",{class:"form-label fw-semibold"},[c("PSTO Name "),t("span",{class:"text-danger"},"*")],-1)),z={class:"input-group custom-input-group"},G=l(()=>t("span",{class:"input-group-text"},[t("i",{class:"ri-home-workspace-line"})],-1)),H=l(()=>t("i",{class:"ri-close-line me-1"},null,-1)),J=l(()=>t("i",{class:"ri-save-line me-1"},null,-1)),K={__name:"Modal",props:{psto:{type:Object,default:null},value:{type:Boolean,default:!1},action:{type:String}},emits:["reloadPSTOs","input"],setup(n,{emit:f}){const p=f,o=n,u=v(!1),s=y({id:null,psto_name:""});r(()=>o.value,e=>{u.value=e}),r(()=>o.psto,e=>{e?(s.id=e.id,s.psto_name=e.psto_name):i()}),r(()=>o.action,e=>{e==="Add"&&i()});const i=()=>{s.id=null,s.psto_name=""},h=()=>s.psto_name?!0:(m.fire({title:"Validation Error",icon:"error",text:"Please enter a PSTO name"}),!1),_=async()=>{if(!h())return;const e=o.action==="Add"?"/pstos/add":"/pstos/update";P.post(e,s,{onSuccess:()=>{m.fire({title:"Success",icon:"success",text:o.action==="Add"?"PSTO has been created successfully.":"PSTO has been updated successfully."}),d()},onError:a=>{m.fire({title:"Failed",icon:"error",text:(a==null?void 0:a.message)||"Something went wrong, please try again"})}})},d=()=>{p("input",!1),p("reloadPSTOs"),i()};return(e,a)=>u.value?(S(),g("div",E,[t("div",F,[t("div",I,[t("div",M,[t("h5",N,[A,c(" "+w(o.action)+" PSTO ",1)]),t("button",{type:"button",class:"btn-close btn-close-white",onClick:d})]),t("div",D,[t("form",{onSubmit:k(_,["prevent"])},[t("div",j,[t("div",q,[U,t("div",z,[G,x(t("input",{type:"text",class:"form-control custom-input","onUpdate:modelValue":a[0]||(a[0]=b=>s.psto_name=b),placeholder:"Enter PSTO name",required:""},null,512),[[O,s.psto_name]])])])])],32)]),t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary btn-custom-secondary",onClick:d},[H,c(" Cancel ")]),t("button",{type:"button",class:"btn btn-primary btn-custom-primary",onClick:_},[J,c(" Save ")])])])])])):T("",!0)}},W=B(K,[["__scopeId","data-v-498a7a9c"]]);export{W as default};
