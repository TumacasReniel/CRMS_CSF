import{z as D,i as c,x as $,d as f,j as o,o as b,c as g,w as a,b as n,a as p,t as z,u as M,f as q,g as y,O as V}from"./app-Md8_lbIh.js";import{s as A}from"./vue-multiselect.css_vue_type_style_index_0_src_true_lang-CP-9FJ3h.js";const E={class:"text-h5"},F=p("label",null,"PSTOs",-1),G={style:{"text-align":"end"}},J=D({__name:"Modal",props:{unit:{type:Object,default:null},unit_pstos:{type:Object,default:null},pstos:{type:Object,default:null},value:{type:Boolean,default:!1},action:{type:String},page_number:{type:Number}},emits:["reloadUnitPSTOs","input"],setup(u,{emit:O}){const d=O,i=u;c(()=>i.unit,e=>{e&&(t.unit_id=e.id,t.unit_name=e.unit_name,V.get("/unit-pstos?page="+i.page_number,{form:t},{preserveState:!0}))}),c(()=>i.unit_pstos,e=>{e&&(t.pstos=e.data)});const t=$({unit_id:null,unit_name:null,pstos:null}),_=f(!1);c(()=>i.value,e=>{_.value=e});const S=f("");c(()=>i.action,e=>{S.value=e}),c(()=>t.selected_service,e=>{t.selected_unit=null});const x=async()=>{V.post("/unit-pstos/assign",t),d("input",!1),d("reloadUnitPSTOs"),t.id="",t.pstos=null},k=e=>{d("input",e),d("reloadUnitPSTOs"),t.id="",t.pstos=null};return(e,l)=>{const T=o("v-card-title"),U=o("v-text-field"),r=o("v-col"),w=o("v-row"),C=o("v-card-body"),P=o("v-spacer"),N=o("v-divider"),m=o("v-icon"),v=o("v-btn"),h=o("v-card-action"),j=o("v-card"),B=o("v-dialog");return b(),g(B,{modelValue:_.value,"onUpdate:modelValue":l[4]||(l[4]=s=>_.value=s),width:"600",height:"800",scrollable:"",persistent:""},{default:a(()=>[n(j,null,{default:a(()=>[n(T,{class:"bg-indigo mb-5"},{default:a(()=>[p("span",E,z(i.action)+" Unit PSTO",1)]),_:1}),n(C,null,{default:a(()=>[n(w,null,{default:a(()=>[n(r,{cols:"11",class:"m-3",style:{"margin-bottom":"-20px"}},{default:a(()=>[n(U,{label:"Name*",modelValue:t.unit_name,"onUpdate:modelValue":l[0]||(l[0]=s=>t.unit_name=s),variant:"outlined"},null,8,["modelValue"])]),_:1}),u.unit_pstos.data?(b(),g(r,{key:0,class:"my-auto mr-5 ml-5"},{default:a(()=>[F,n(M(A),{modelValue:t.pstos,"onUpdate:modelValue":l[1]||(l[1]=s=>t.pstos=s),options:u.pstos.data,multiple:!0,placeholder:"Select Unit PSTO",label:"psto_name","track-by":"psto_name"},null,8,["modelValue","options"])]),_:1})):q("",!0)]),_:1})]),_:1}),n(P),n(h,null,{default:a(()=>[n(N),p("div",G,[n(v,{class:"ma-2",color:"blue-grey-lighten-2",onClick:l[2]||(l[2]=s=>k(!1))},{default:a(()=>[n(m,{start:"",icon:"mdi-cancel"}),y(" Cancel ")]),_:1}),n(v,{class:"ma-2",color:"green-darken-1",type:"button",onClick:l[3]||(l[3]=s=>x())},{default:a(()=>[y(" Save "),n(m,{end:"",icon:"mdi-check"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});export{J as _};
