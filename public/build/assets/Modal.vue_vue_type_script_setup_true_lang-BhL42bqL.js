import{B as M,i as _,x as R,d as x,j as d,o as f,c as y,w as l,b as e,a as k,t as T,f as U,g as w,O as A}from"./app-DBdEy3oc.js";const z={class:"text-h5"},F={style:{"text-align":"end"}},H=M({__name:"Modal",props:{data:{type:Object,default:null},account:{type:Object,default:null},value:{type:Boolean,default:!1},regions:{type:Object,default:null},action:{type:String}},emits:["reloadAccounts","input"],setup(s,{emit:C}){const u=C,m=s;_(()=>m.account,a=>{a&&(t.id=a.id,t.name=a.name,t.email=a.email,t.selected_account_type=a.account_type,t.selected_region=a.region)});const t=R({id:null,name:null,email:null,selected_region:[],selected_account_type:null,selected_service:null}),p=x(!1);_(()=>m.value,a=>{p.value=a});const v=x("");_(()=>m.action,a=>{v.value=a}),_(()=>t.selected_service,a=>{t.selected_unit=null});const q=async()=>{v.value=="Add"?A.post("/accounts/add",t):v.value=="Update"&&A.post("/accounts/update",t),u("input",!1),u("reloadAccounts")},B=a=>{u("input",a),u("reloadAccounts")};return(a,n)=>{const N=d("v-card-title"),g=d("v-text-field"),i=d("v-col"),c=d("v-row"),r=d("v-select"),O=d("v-card-text"),j=d("v-spacer"),S=d("v-divider"),V=d("v-icon"),b=d("v-btn"),D=d("v-card-action"),$=d("v-card"),E=d("v-dialog");return f(),y(E,{modelValue:p.value,"onUpdate:modelValue":n[8]||(n[8]=o=>p.value=o),width:"600",scrollable:"",persistent:""},{default:l(()=>[e($,null,{default:l(()=>[e(N,{class:"bg-indigo"},{default:l(()=>[k("span",z,T(m.action)+" Account",1)]),_:1}),e(O,null,{default:l(()=>[e(c,{style:{"margin-bottom":"-30px"}},{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[e(g,{"prepend-icon":"mdi-account",label:"Name*",modelValue:t.name,"onUpdate:modelValue":n[0]||(n[0]=o=>t.name=o),variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{style:{"margin-bottom":"-30px"}},{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[e(g,{"prepend-icon":"mdi-email",label:"Email*",modelValue:t.email,"onUpdate:modelValue":n[1]||(n[1]=o=>t.email=o),variant:"outlined",type:"email",required:""},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{style:{"margin-bottom":"-30px"}},{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[e(r,{"prepend-icon":"mdi-map-marker",label:"Region*",modelValue:t.selected_region,"onUpdate:modelValue":n[2]||(n[2]=o=>t.selected_region=o),variant:"outlined",items:s.data.regions,"item-title":"name","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1})]),_:1}),e(c,{style:{"margin-bottom":"-30px"}},{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[e(r,{"prepend-icon":"mdi-account-circle",label:"Account_type*",modelValue:t.selected_account_type,"onUpdate:modelValue":n[3]||(n[3]=o=>t.selected_account_type=o),variant:"outlined",items:["user","admin"],"item-title":"name",required:""},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{style:{"margin-bottom":"-30px"}},{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[t.selected_account_type=="user"?(f(),y(r,{key:0,"prepend-icon":"mdi-map-marker",label:"Service*",modelValue:t.selected_service,"onUpdate:modelValue":n[4]||(n[4]=o=>t.selected_service=o),variant:"outlined",items:s.data.services.data,"item-title":"services_name","item-value":"id",required:""},null,8,["modelValue","items"])):U("",!0)]),_:1})]),_:1}),e(c,{style:{"margin-bottom":"-30px"}},{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[t.selected_account_type=="user"&&t.selected_service?(f(),y(r,{key:0,"prepend-icon":"mdi-map-marker",label:"Unit*",modelValue:t.selected_unit,"onUpdate:modelValue":n[5]||(n[5]=o=>t.selected_unit=o),variant:"outlined",items:s.data.services.data[t.selected_service-1].units,"item-title":"unit_name","item-value":"id",required:""},null,8,["modelValue","items"])):U("",!0)]),_:1})]),_:1})]),_:1}),e(j),e(D,null,{default:l(()=>[e(S),k("div",F,[e(b,{class:"ma-2",color:"blue-grey-lighten-2",onClick:n[6]||(n[6]=o=>B(!1))},{default:l(()=>[e(V,{start:"",icon:"mdi-cancel"}),w(" Cancel ")]),_:1}),e(b,{class:"ma-2",color:"green-darken-1",type:"button",onClick:n[7]||(n[7]=o=>q())},{default:l(()=>[w(" Save "),e(V,{end:"",icon:"mdi-check"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});export{H as _};
