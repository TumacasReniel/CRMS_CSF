import{z as k,d as w,i as x,o as l,e as a,a as e,g as d,t as g,l as S,m as p,v as f,f as r,n as N,O as b,y as C}from"./app-B9cZec8x.js";const V={class:"modal-dialog modal-dialog-centered",role:"document"},z={class:"modal-content"},B={class:"modal-header bg-primary text-white"},O={class:"modal-title"},U=e("i",{class:"ri-add-circle-line me-2"},null,-1),$={class:"modal-body"},q={key:0,class:"mb-3"},D=e("label",{for:"service_name",class:"form-label"},"Service Name",-1),E={class:"input-group"},M=e("span",{class:"input-group-text"},[e("i",{class:"ri-service-line"})],-1),T={key:1},j={class:"mb-3"},A=e("label",{for:"service",class:"form-label"},"Service",-1),I={class:"input-group"},F=e("span",{class:"input-group-text"},[e("i",{class:"ri-building-line"})],-1),G=["value"],H={class:"mb-3"},J=e("label",{for:"unit_name",class:"form-label"},"Unit Name",-1),K={class:"input-group"},L=e("span",{class:"input-group-text"},[e("i",{class:"ri-home-line"})],-1),P={class:"modal-footer"},Q=e("i",{class:"ri-close-line me-1"},null,-1),R=e("i",{class:"ri-save-line me-1"},null,-1),W={key:0,class:"modal-backdrop fade show",style:{"z-index":"1050",opacity:"0.3"}},Y={__name:"Modal",props:{data:{type:Object,default:null},value:{type:Boolean,default:!1},action_clicked:{type:String,default:null},selected_service:{type:Object,default:null}},emits:["input"],setup(h,{emit:y}){const _=y,s=h,i=k({service_id:null,service_name:null,unit_name:null}),c=w(!1);x(()=>s.value,async n=>{if(c.value=n,n){await C();const t=document.querySelector(s.action_clicked==="add_new_service"?"#service_name":"#unit_name");t&&t.focus()}});const u=n=>{_("input",n)},m=()=>{s.action_clicked=="add_new_service"?b.post("/services/add",i):(i.service_id=s.selected_service.id,b.post("/services/unit/add",i)),_("input",!1)};return(n,t)=>{var v;return l(),a("div",{class:N(["modal fade",{"show d-block":c.value}]),tabindex:"-1",role:"dialog",style:{"z-index":"1055",position:"fixed",top:"0",left:"0",width:"100%",height:"100%"}},[e("div",V,[e("div",z,[e("div",B,[e("h5",O,[U,d(" "+g(s.action_clicked=="add_new_service"?"Add New Service":"Add New Unit"),1)]),e("button",{type:"button",class:"btn-close btn-close-white",onClick:t[0]||(t[0]=o=>u(!1))})]),e("div",$,[e("form",{onSubmit:t[3]||(t[3]=S(o=>m(),["prevent"]))},[s.action_clicked=="add_new_service"?(l(),a("div",q,[D,e("div",E,[M,p(e("input",{type:"text",class:"form-control",id:"service_name","onUpdate:modelValue":t[1]||(t[1]=o=>i.service_name=o),placeholder:"Enter service name",required:""},null,512),[[f,i.service_name]])])])):r("",!0),s.action_clicked=="add_new_unit"?(l(),a("div",T,[e("div",j,[A,e("div",I,[F,e("input",{type:"text",class:"form-control-plaintext",id:"service",value:(v=s.selected_service)==null?void 0:v.services_name,readonly:""},null,8,G)])]),e("div",H,[J,e("div",K,[L,p(e("input",{type:"text",class:"form-control",id:"unit_name","onUpdate:modelValue":t[2]||(t[2]=o=>i.unit_name=o),placeholder:"Enter unit name",required:""},null,512),[[f,i.unit_name]])])])])):r("",!0)],32)]),e("div",P,[e("button",{type:"button",class:"btn btn-secondary",onClick:t[4]||(t[4]=o=>u(!1))},[Q,d("Cancel ")]),e("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=o=>m())},[R,d("Save ")])])])]),c.value?(l(),a("div",W)):r("",!0)],2)}}};export{Y as default};
