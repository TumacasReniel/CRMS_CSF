import{B as M,i as _,x as R,d as k,j as d,o as p,c as v,w as l,b as t,a as U,t as T,f as V,g as w,O as A}from"./app-BIXnSpMg.js";const z={class:"text-h5"},F={style:{"text-align":"end"}},H=M({__name:"Modal",props:{data:{type:Object,default:null},account:{type:Object,default:null},value:{type:Boolean,default:!1},regions:{type:Object,default:null},action:{type:String}},emits:["reloadAccounts","input"],setup(c,{emit:C}){const u=C,m=c;_(()=>m.account,a=>{a&&(e.id=a.id,e.name=a.name,e.designation=a.designation,e.email=a.email,e.selected_account_type=a.account_type,e.selected_region=a.region)});const e=R({id:null,name:null,email:null,designation:"",selected_region:[],selected_account_type:null,selected_service:null}),f=k(!1);_(()=>m.value,a=>{f.value=a});const g=k("");_(()=>m.action,a=>{g.value=a}),_(()=>e.selected_service,a=>{e.selected_unit=null});const q=async()=>{g.value=="Add"?A.post("/accounts/add",e):g.value=="Update"&&A.post("/accounts/update",e),u("input",!1),u("reloadAccounts")},B=a=>{u("input",a),u("reloadAccounts")};return(a,n)=>{const N=d("v-card-title"),y=d("v-text-field"),i=d("v-col"),s=d("v-row"),r=d("v-select"),O=d("v-card-text"),j=d("v-spacer"),S=d("v-divider"),b=d("v-icon"),x=d("v-btn"),D=d("v-card-action"),$=d("v-card"),E=d("v-dialog");return p(),v(E,{modelValue:f.value,"onUpdate:modelValue":n[9]||(n[9]=o=>f.value=o),width:"600",scrollable:"",persistent:""},{default:l(()=>[t($,null,{default:l(()=>[t(N,{class:"bg-indigo"},{default:l(()=>[U("span",z,T(m.action)+" Account",1)]),_:1}),t(O,null,{default:l(()=>[t(s,{style:{"margin-bottom":"-30px"}},{default:l(()=>[t(i,{cols:"12"},{default:l(()=>[t(y,{"prepend-icon":"mdi-account",label:"Name*",modelValue:e.name,"onUpdate:modelValue":n[0]||(n[0]=o=>e.name=o),variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),t(s,{style:{"margin-bottom":"-30px"}},{default:l(()=>[t(i,{cols:"12"},{default:l(()=>[t(y,{"prepend-icon":"mdi-email",label:"Email*",modelValue:e.email,"onUpdate:modelValue":n[1]||(n[1]=o=>e.email=o),variant:"outlined",type:"email",required:""},null,8,["modelValue"])]),_:1})]),_:1}),t(s,{style:{"margin-bottom":"-30px"}},{default:l(()=>[t(i,{cols:"12"},{default:l(()=>[t(r,{"prepend-icon":"mdi-map-marker",label:"Region*",modelValue:e.selected_region,"onUpdate:modelValue":n[2]||(n[2]=o=>e.selected_region=o),variant:"outlined",items:c.data.regions,"item-title":"name","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1})]),_:1}),t(s,{style:{"margin-bottom":"-30px"}},{default:l(()=>[t(i,{cols:"12"},{default:l(()=>[t(r,{"prepend-icon":"mdi-account-circle",label:"Account_type*",modelValue:e.selected_account_type,"onUpdate:modelValue":n[3]||(n[3]=o=>e.selected_account_type=o),variant:"outlined",items:["user","admin"],"item-title":"name",required:""},null,8,["modelValue"])]),_:1})]),_:1}),t(s,{style:{"margin-bottom":"-30px"}},{default:l(()=>[t(i,{cols:"12"},{default:l(()=>[e.selected_account_type=="user"?(p(),v(y,{key:0,"prepend-icon":"mdi-account",label:"Designation*",modelValue:e.designation,"onUpdate:modelValue":n[4]||(n[4]=o=>e.designation=o),variant:"outlined"},null,8,["modelValue"])):V("",!0)]),_:1})]),_:1}),t(s,{style:{"margin-bottom":"-30px"}},{default:l(()=>[t(i,{cols:"12"},{default:l(()=>[e.selected_account_type=="user"?(p(),v(r,{key:0,"prepend-icon":"mdi-map-marker",label:"Service*",modelValue:e.selected_service,"onUpdate:modelValue":n[5]||(n[5]=o=>e.selected_service=o),variant:"outlined",items:c.data.services.data,"item-title":"services_name","item-value":"id",required:""},null,8,["modelValue","items"])):V("",!0)]),_:1})]),_:1}),t(s,{style:{"margin-bottom":"-30px"}},{default:l(()=>[t(i,{cols:"12"},{default:l(()=>[e.selected_account_type=="user"&&e.selected_service?(p(),v(r,{key:0,"prepend-icon":"mdi-map-marker",label:"Unit*",modelValue:e.selected_unit,"onUpdate:modelValue":n[6]||(n[6]=o=>e.selected_unit=o),variant:"outlined",items:c.data.services.data[e.selected_service-1].units,"item-title":"unit_name","item-value":"id",required:""},null,8,["modelValue","items"])):V("",!0)]),_:1})]),_:1})]),_:1}),t(j),t(D,null,{default:l(()=>[t(S),U("div",F,[t(x,{class:"ma-2",color:"blue-grey-lighten-2",onClick:n[7]||(n[7]=o=>B(!1))},{default:l(()=>[t(b,{start:"",icon:"mdi-cancel"}),w(" Cancel ")]),_:1}),t(x,{class:"ma-2",color:"green-darken-1",type:"button",onClick:n[8]||(n[8]=o=>q())},{default:l(()=>[w(" Save "),t(b,{end:"",icon:"mdi-check"})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});export{H as _};
